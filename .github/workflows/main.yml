name: kegscales-device Image Builder
on: [push]
jobs:
  Build-Image:
    runs-on: ubuntu-latest
    steps:
    - run: echo "🎉 The job was automatically triggered by a ${{ github.event_name }} event."
    - run: echo "🐧 This job is now running on a ${{ runner.os }} server hosted by GitHub!"
    - run: echo "🔎 The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
    - run: sudo apt-get install -y git gcc-arm-none-eabi libstdc++-arm-none-eabi-newlib libnewlib-arm-none-eabi build-essential cmake python3
    - run: git clone https://github.com/micropython/micropython.git
    - run: cd micropython
    - run: git submodule update --init lib/mbedtls
    - run: make -C mpy-cross
